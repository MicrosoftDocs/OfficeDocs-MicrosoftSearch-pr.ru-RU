---
title: Соединитель корпоративных веб-сайтов для поиска Майкрософт
ms.author: monaray
author: monaray97
manager: mnirkhe
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Настройка соединителя корпоративных веб-сайтов для поиска Microsoft Search
ms.openlocfilehash: 443e903e0fa371d2a056fd4bf06310eb2627b11c
ms.sourcegitcommit: 031e7c595496d9faed9038725b04f3c8b5f9ccbd
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/09/2020
ms.locfileid: "49604780"
---
<!-- markdownlint-disable no-inline-html -->
# <a name="enterprise-websites-connector"></a><span data-ttu-id="a439e-103">Соединитель корпоративных веб-сайтов</span><span class="sxs-lookup"><span data-stu-id="a439e-103">Enterprise websites connector</span></span>

<span data-ttu-id="a439e-104">С помощью соединителя Enterprise websites ваша организация может индексировать статьи и **контент с внутренних веб-сайтов**.</span><span class="sxs-lookup"><span data-stu-id="a439e-104">With the Enterprise websites connector, your organization can index articles and **content from its internal-facing websites**.</span></span> <span data-ttu-id="a439e-105">После настройки соединителя и синхронизации контента с веб-сайта конечные пользователи смогут выполнять поиск по этому содержимому из любого клиента Microsoft Search.</span><span class="sxs-lookup"><span data-stu-id="a439e-105">After you configure the connector and sync content from the website, end users can search for that content from any Microsoft Search client.</span></span>

<span data-ttu-id="a439e-106">Эта статья предназначена для администраторов [Microsoft 365](https://www.microsoft.com/microsoft-365) или пользователей, которые настраивают, запускают и осуществляют мониторинг соединителя корпоративных веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="a439e-106">This article is for [Microsoft 365](https://www.microsoft.com/microsoft-365) administrators or anyone who configures, runs, and monitors an Enterprise websites connector.</span></span> <span data-ttu-id="a439e-107">В этой статье объясняется, как настроить возможности соединителя и соединителя, ограничения и способы устранения неполадок.</span><span class="sxs-lookup"><span data-stu-id="a439e-107">It explains how to configure your connector and connector capabilities, limitations, and troubleshooting techniques.</span></span>  

## <a name="connection-settings"></a><span data-ttu-id="a439e-108">Параметры подключения</span><span class="sxs-lookup"><span data-stu-id="a439e-108">Connection settings</span></span>

<span data-ttu-id="a439e-109">Чтобы подключиться к источнику данных, необходимо ввести корневой URL-адрес веб-сайта, выбрать источник обхода и тип проверки подлинности: None, обычная проверка подлинности или OAuth 2,0 с помощью [Azure Active Directory (Azure AD)](https://docs.microsoft.com/azure/active-directory/).</span><span class="sxs-lookup"><span data-stu-id="a439e-109">To connect to your data source, you need to fill in the root URL of the website, select a crawl source, and the type of authentication you'd like to use: None, Basic Authentication, or OAuth 2.0 with [Azure Active Directory (Azure AD)](https://docs.microsoft.com/azure/active-directory/).</span></span> <span data-ttu-id="a439e-110">После выполнения этих сведений щелкните Проверить подключение, чтобы проверить параметры.</span><span class="sxs-lookup"><span data-stu-id="a439e-110">After you complete this information, click Test Connection to verify your settings.</span></span>

### <a name="url"></a><span data-ttu-id="a439e-111">URL</span><span class="sxs-lookup"><span data-stu-id="a439e-111">URL</span></span>

<span data-ttu-id="a439e-112">Используйте поле URL-адреса, чтобы указать корневую папку веб-сайта, обход которого требуется выполнить.</span><span class="sxs-lookup"><span data-stu-id="a439e-112">Use the URL field to specify the root of the website that you'd like to crawl.</span></span> <span data-ttu-id="a439e-113">Соединитель корпоративных веб-сайтов будет использовать этот URL-адрес в качестве начальной точки и будет выполнять все ссылки с этого URL-адреса для обхода.</span><span class="sxs-lookup"><span data-stu-id="a439e-113">The enterprise websites connector will use this URL as the starting point and follow all the links from this URL for its crawl.</span></span>

### <a name="crawl-mode-cloud-or-on-premises-preview"></a><span data-ttu-id="a439e-114">Режим обхода: облако или локальное (Предварительная версия)</span><span class="sxs-lookup"><span data-stu-id="a439e-114">Crawl mode: Cloud or On-premises (Preview)</span></span>

<span data-ttu-id="a439e-115">Режим обхода определяет тип веб-сайтов, которые вы хотите индексировать, в облаке или локальной среде.</span><span class="sxs-lookup"><span data-stu-id="a439e-115">The crawl mode determines the type of websites you want to index, either cloud or on-premises.</span></span> <span data-ttu-id="a439e-116">Для облачных веб-сайтов выберите в качестве режима обхода значение **облако** .</span><span class="sxs-lookup"><span data-stu-id="a439e-116">For your cloud websites, select **Cloud** as the crawl mode.</span></span>

<span data-ttu-id="a439e-117">Кроме того, соединитель теперь поддерживает обход локальных веб-сайтов.</span><span class="sxs-lookup"><span data-stu-id="a439e-117">Also, the connector now supports crawling of on-premises websites.</span></span> <span data-ttu-id="a439e-118">Этот режим доступен для предварительной версии.</span><span class="sxs-lookup"><span data-stu-id="a439e-118">This mode is in preview.</span></span> <span data-ttu-id="a439e-119">Чтобы получить доступ к локальным данным, необходимо сначала установить и настроить агент соединителя Graph.</span><span class="sxs-lookup"><span data-stu-id="a439e-119">To access your on-premises data, you must first install and configure the Graph connector agent.</span></span> <span data-ttu-id="a439e-120">Чтобы узнать больше, ознакомьтесь со статьей [Агент соединителя Graph](https://docs.microsoft.com/microsoftsearch/on-prem-agent).</span><span class="sxs-lookup"><span data-stu-id="a439e-120">To learn more, see [Graph connector agent](https://docs.microsoft.com/microsoftsearch/on-prem-agent).</span></span>

<span data-ttu-id="a439e-121">Для локальных веб-сайтов выберите **Агент** в качестве режима обхода и в поле **локальный агент** выберите агент соединителя Graph, который вы установили и настроили ранее.</span><span class="sxs-lookup"><span data-stu-id="a439e-121">For your on-premises websites, select **Agent** as the crawl mode and in the **On-Prem Agent** field, choose the Graph connector agent that you installed and configured earlier.</span></span>  

![Снимок экрана: область параметров подключения для корпоративного веб-соединителя](media/enterprise-web-connector/connectors-enterpriseweb-settings.png)

### <a name="authentication"></a><span data-ttu-id="a439e-123">Проверка подлинности</span><span class="sxs-lookup"><span data-stu-id="a439e-123">Authentication</span></span>

<span data-ttu-id="a439e-124">Для обычной проверки подлинности требуются имя пользователя и пароль.</span><span class="sxs-lookup"><span data-stu-id="a439e-124">Basic Authentication requires a username and password.</span></span> <span data-ttu-id="a439e-125">Создайте учетную запись Bot с помощью [центра администрирования Microsoft 365](https://admin.microsoft.com).</span><span class="sxs-lookup"><span data-stu-id="a439e-125">Create this bot account by using the [Microsoft 365 admin center](https://admin.microsoft.com).</span></span>

<span data-ttu-id="a439e-126">Для OAuth 2,0 с [Azure AD](https://docs.microsoft.com/azure/active-directory/) требуется идентификатор ресурса, идентификатор клиента и секрет клиента.</span><span class="sxs-lookup"><span data-stu-id="a439e-126">OAuth 2.0 with [Azure AD](https://docs.microsoft.com/azure/active-directory/) requires a resource ID, Client ID, and Client Secret.</span></span> <span data-ttu-id="a439e-127">OAuth 2,0 работает только в режиме Cloud.</span><span class="sxs-lookup"><span data-stu-id="a439e-127">OAuth 2.0 only works with Cloud mode.</span></span>

<span data-ttu-id="a439e-128">Дополнительные сведения [можно найти в статье авторизация доступа к веб-приложениям Azure Active Directory с помощью кода предоставления кода OAuth 2,0](https://docs.microsoft.com/azure/active-directory/develop/v1-protocols-oauth-code).</span><span class="sxs-lookup"><span data-stu-id="a439e-128">For more information, see [Authorize access to Azure Active Directory web applications using OAuth 2.0 code grant flow](https://docs.microsoft.com/azure/active-directory/develop/v1-protocols-oauth-code).</span></span> <span data-ttu-id="a439e-129">Register со следующими значениями:</span><span class="sxs-lookup"><span data-stu-id="a439e-129">Register with the following values:</span></span>

<span data-ttu-id="a439e-130">**Имя:** Microsoft Search</span><span class="sxs-lookup"><span data-stu-id="a439e-130">**Name:** Microsoft Search</span></span> <br/>
<span data-ttu-id="a439e-131">**Redirect_URI:**`https://gcs.office.com/v1.0/admin/oauth/callback`</span><span class="sxs-lookup"><span data-stu-id="a439e-131">**Redirect_URI:** `https://gcs.office.com/v1.0/admin/oauth/callback`</span></span>

<span data-ttu-id="a439e-132">Чтобы получить значения для ресурса, client_id и client_secret, перейдите в раздел **использование кода авторизации для запроса маркера доступа** на веб-странице перенаправления URL-адреса.</span><span class="sxs-lookup"><span data-stu-id="a439e-132">To get the values for the resource, client_id, and client_secret, go to **Use the authorization code to request an access token** on the redirect URL webpage.</span></span>

<span data-ttu-id="a439e-133">Более подробную информацию можно найти в разделе [Краткое руководство: регистрация приложения с помощью платформы удостоверений Майкрософт](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app).</span><span class="sxs-lookup"><span data-stu-id="a439e-133">For even more information, see [Quickstart: Register an application with the Microsoft identity platform](https://docs.microsoft.com/azure/active-directory/develop/quickstart-register-app).</span></span>

## <a name="support-for-robotstxt"></a><span data-ttu-id="a439e-134">Поддержка robots.txt</span><span class="sxs-lookup"><span data-stu-id="a439e-134">Support for robots.txt</span></span>

<span data-ttu-id="a439e-135">Соединитель проверяет, существует ли файл robots.txt для корневого сайта, и, если он существует, будет следовать указаниям, находящихся в этом файле.</span><span class="sxs-lookup"><span data-stu-id="a439e-135">The connector checks to see if there is a robots.txt file for your root site and, if one exists, it will follow and respect the directions found within that file.</span></span> <span data-ttu-id="a439e-136">Если вы не хотите, чтобы соединитель выполнял обход определенных страниц или каталогов на сайте, вы можете вызвать эти страницы или каталоги в объявлениях "запретить" в robots.txt файле.</span><span class="sxs-lookup"><span data-stu-id="a439e-136">If you do not want the connector to crawl certain pages or directories on your site, you can call out those pages or directories in the "Disallow" declarations in your robots.txt file.</span></span>

## <a name="add-urls-to-exclude"></a><span data-ttu-id="a439e-137">Добавление URL-адресов для исключения</span><span class="sxs-lookup"><span data-stu-id="a439e-137">Add URLs to exclude</span></span>

<span data-ttu-id="a439e-138">При необходимости вы можете создать **список исключений** , чтобы исключить некоторые URL-адреса из обхода контента, если он конфиденциальный или не стоит заходить.</span><span class="sxs-lookup"><span data-stu-id="a439e-138">You can optionally create an **Exclusion list** to exclude some URLs from getting crawled if that content is sensitive or not worth crawling.</span></span> <span data-ttu-id="a439e-139">Чтобы создать список исключений, просмотрите корневой URL-адрес.</span><span class="sxs-lookup"><span data-stu-id="a439e-139">To create an exclusion list, browse through the root URL.</span></span> <span data-ttu-id="a439e-140">В процессе настройки можно добавить исключенные URL-адреса в список.</span><span class="sxs-lookup"><span data-stu-id="a439e-140">You have the option to add the excluded URLs to the list during the configuration process.</span></span>

## <a name="manage-search-permissions"></a><span data-ttu-id="a439e-141">Управление разрешениями поиска</span><span class="sxs-lookup"><span data-stu-id="a439e-141">Manage search permissions</span></span>

<span data-ttu-id="a439e-142">Соединитель корпоративных веб-сайтов поддерживает только разрешения на поиск, видимые **всем пользователям**.</span><span class="sxs-lookup"><span data-stu-id="a439e-142">The Enterprise websites connector only supports search permissions visible to **Everyone**.</span></span> <span data-ttu-id="a439e-143">Индексированные данные отображаются в результатах поиска и видимы всем пользователям в Организации.</span><span class="sxs-lookup"><span data-stu-id="a439e-143">Indexed data appears in the search results and is visible to all users in the organization.</span></span>

## <a name="assign-property-labels"></a><span data-ttu-id="a439e-144">Назначение меток свойств</span><span class="sxs-lookup"><span data-stu-id="a439e-144">Assign property labels</span></span>

<span data-ttu-id="a439e-145">Можно назначить свойство источника каждой метке, выбрав в меню пункт Параметры.</span><span class="sxs-lookup"><span data-stu-id="a439e-145">You can assign a source property to each label by choosing from a menu of options.</span></span> <span data-ttu-id="a439e-146">Хотя это действие не является обязательным, наличие некоторых меток свойств повысит релевантность поиска и обеспечит более точные результаты поиска для конечных пользователей.</span><span class="sxs-lookup"><span data-stu-id="a439e-146">While this step is not mandatory, having some property labels will improve the search relevance and ensure more accurate search results for end users.</span></span>

## <a name="manage-schema"></a><span data-ttu-id="a439e-147">Управление схемой</span><span class="sxs-lookup"><span data-stu-id="a439e-147">Manage schema</span></span>

<span data-ttu-id="a439e-148">На экране **Управление схемой** можно изменить атрибуты схемы (возможность **запроса**, возможность **поиска**, **Извлечение** и **уточнение**), связанные со свойствами, добавить необязательные псевдонимы и выбрать свойство **содержимого** .</span><span class="sxs-lookup"><span data-stu-id="a439e-148">On the **Manage Schema** screen, you have the option to change the schema attributes (**queryable**, **searchable**, **retrievable**, and **refinable**) associated with the properties, add optional aliases, and choose the **Content** property.</span></span>

## <a name="set-the-refresh-schedule"></a><span data-ttu-id="a439e-149">Настройка расписания обновления</span><span class="sxs-lookup"><span data-stu-id="a439e-149">Set the refresh schedule</span></span>

<span data-ttu-id="a439e-150">Соединитель корпоративных веб-сайтов поддерживает только полное обновление.</span><span class="sxs-lookup"><span data-stu-id="a439e-150">The Enterprise websites connector only supports a full refresh.</span></span> <span data-ttu-id="a439e-151">Это означает, что соединитель будет повторно выполнять обход контента всего веб-сайта во время каждого обновления.</span><span class="sxs-lookup"><span data-stu-id="a439e-151">This means that the connector will recrawl all the website's content during every refresh.</span></span> <span data-ttu-id="a439e-152">Чтобы убедиться, что соединитель получит достаточно времени для обхода контента, рекомендуется установить большой интервал расписания обновления.</span><span class="sxs-lookup"><span data-stu-id="a439e-152">To make sure the connector gets enough time to crawl the content, we recommend that you set a large refresh schedule interval.</span></span> <span data-ttu-id="a439e-153">Рекомендуем запланированное обновление между одной и двумя неделями.</span><span class="sxs-lookup"><span data-stu-id="a439e-153">We recommend a scheduled refresh between one and two weeks.</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="a439e-154">Устранение неполадок</span><span class="sxs-lookup"><span data-stu-id="a439e-154">Troubleshooting</span></span>

<span data-ttu-id="a439e-155">При чтении контента веб-сайта в ходе обхода могут возникать некоторые ошибки, которые представлены в приведенных ниже кодах ошибок.</span><span class="sxs-lookup"><span data-stu-id="a439e-155">When reading the website's content, the crawl may encounter some source errors, which are represented by the detailed error codes below.</span></span> <span data-ttu-id="a439e-156">Чтобы получить дополнительные сведения о типах ошибок, перейдите на страницу **сведения об ошибке** после выбора подключения.</span><span class="sxs-lookup"><span data-stu-id="a439e-156">To get more information on the types of errors, go to the **error details** page after selecting the connection.</span></span> <span data-ttu-id="a439e-157">Чтобы просмотреть более подробные ошибки, щелкните **код ошибки** .</span><span class="sxs-lookup"><span data-stu-id="a439e-157">Click on the **error code** to see more detailed errors.</span></span> <span data-ttu-id="a439e-158">Кроме того, для получения дополнительных сведений обратитесь к разделу [Управление соединителем](https://docs.microsoft.com/microsoftsearch/manage-connector) .</span><span class="sxs-lookup"><span data-stu-id="a439e-158">Also refer to [Manage your connector](https://docs.microsoft.com/microsoftsearch/manage-connector) to learn more.</span></span>

 <span data-ttu-id="a439e-159">Подробный код ошибки</span><span class="sxs-lookup"><span data-stu-id="a439e-159">Detailed Error code</span></span> | <span data-ttu-id="a439e-160">Сообщение об ошибке</span><span class="sxs-lookup"><span data-stu-id="a439e-160">Error message</span></span>
 --- | ---
 <span data-ttu-id="a439e-161">6001</span><span class="sxs-lookup"><span data-stu-id="a439e-161">6001</span></span> | <span data-ttu-id="a439e-162">Сайт, который пытается индексироваться, недоступен</span><span class="sxs-lookup"><span data-stu-id="a439e-162">The site that is being tried to index is not reachable</span></span>
 <span data-ttu-id="a439e-163">6005</span><span class="sxs-lookup"><span data-stu-id="a439e-163">6005</span></span> | <span data-ttu-id="a439e-164">Исходная страница, для которой выполняется индексация, заблокирована в соответствии с конфигурацией robots.txt.</span><span class="sxs-lookup"><span data-stu-id="a439e-164">The source page that is being tried to index has been blocked by as per robots.txt configuration.</span></span>
 <span data-ttu-id="a439e-165">6008</span><span class="sxs-lookup"><span data-stu-id="a439e-165">6008</span></span> | <span data-ttu-id="a439e-166">Не удается разрешить DNS</span><span class="sxs-lookup"><span data-stu-id="a439e-166">Unable to resolve the DNS</span></span>
 <span data-ttu-id="a439e-167">6009</span><span class="sxs-lookup"><span data-stu-id="a439e-167">6009</span></span> | <span data-ttu-id="a439e-168">Для всех ошибок на стороне клиента (за исключением HTTP 404, 408) обратитесь к разделу коды ошибок HTTP 4xx для получения подробных сведений.</span><span class="sxs-lookup"><span data-stu-id="a439e-168">For all client-side errors (Except HTTP 404, 408), refer to HTTP 4xx error codes for details.</span></span>
 <span data-ttu-id="a439e-169">6013</span><span class="sxs-lookup"><span data-stu-id="a439e-169">6013</span></span> | <span data-ttu-id="a439e-170">Не удалось найти исходную страницу, для которой выполняется попытка индексирования.</span><span class="sxs-lookup"><span data-stu-id="a439e-170">The source page that is being tried to index could not be found.</span></span> <span data-ttu-id="a439e-171">(Ошибка HTTP 404)</span><span class="sxs-lookup"><span data-stu-id="a439e-171">(HTTP 404 error)</span></span>
 <span data-ttu-id="a439e-172">6018</span><span class="sxs-lookup"><span data-stu-id="a439e-172">6018</span></span> | <span data-ttu-id="a439e-173">Исходная страница не отвечает, и время ожидания запроса истекло. (Ошибка HTTP 408)</span><span class="sxs-lookup"><span data-stu-id="a439e-173">The source page is not responding, and the request has timed out. (HTTP 408 error)</span></span>
 <span data-ttu-id="a439e-174">6021</span><span class="sxs-lookup"><span data-stu-id="a439e-174">6021</span></span> | <span data-ttu-id="a439e-175">На странице исходной страницы, для которой выполняется индексация, нет текстового контента.</span><span class="sxs-lookup"><span data-stu-id="a439e-175">The source page that is being tried to index has no textual content on the page.</span></span>
 <span data-ttu-id="a439e-176">6023</span><span class="sxs-lookup"><span data-stu-id="a439e-176">6023</span></span> | <span data-ttu-id="a439e-177">Исходная страница, для которой выполняется индексация, не поддерживается (а не HTML-страница)</span><span class="sxs-lookup"><span data-stu-id="a439e-177">The source page that is being tried to index is unsupported (not an HTML page)</span></span>
 <span data-ttu-id="a439e-178">6024</span><span class="sxs-lookup"><span data-stu-id="a439e-178">6024</span></span> | <span data-ttu-id="a439e-179">Исходная страница, для которой выполняется индексация, содержит неподдерживаемое содержимое.</span><span class="sxs-lookup"><span data-stu-id="a439e-179">The source page that is being tried to index has unsupported content.</span></span>

* <span data-ttu-id="a439e-180">Ошибки 6001-6013 возникают, когда источник данных недостижим из-за проблемы в сети или при удалении, перемещении или переименовании источника данных.</span><span class="sxs-lookup"><span data-stu-id="a439e-180">Errors 6001-6013 occur when the data source is not reachable due to a network issue or when the data source itself is deleted, moved, or renamed.</span></span> <span data-ttu-id="a439e-181">Проверьте правильность указанных сведений об источнике данных.</span><span class="sxs-lookup"><span data-stu-id="a439e-181">Check if the data source details provided are still valid.</span></span>
* <span data-ttu-id="a439e-182">Ошибки 6021-6024 возникают, когда источник данных содержит нетекстовое содержимое на странице или когда страница не является HTML-кодом.</span><span class="sxs-lookup"><span data-stu-id="a439e-182">Errors 6021-6024 occur when the data source contains non-textual content on the page or when the page is not an HTML.</span></span> <span data-ttu-id="a439e-183">Проверьте источник данных и добавьте эту страницу в список исключений или проигнорируйте ошибку.</span><span class="sxs-lookup"><span data-stu-id="a439e-183">Check the data source and add this page in exclusion list or ignore the error.</span></span>

## <a name="limitations"></a><span data-ttu-id="a439e-184">Ограничения</span><span class="sxs-lookup"><span data-stu-id="a439e-184">Limitations</span></span>

<span data-ttu-id="a439e-185">Соединитель корпоративных веб-сайтов не поддерживает поиск данных на **динамических веб-страницах**.</span><span class="sxs-lookup"><span data-stu-id="a439e-185">The Enterprise websites connector doesn't support searching data on **dynamic webpages**.</span></span> <span data-ttu-id="a439e-186">Примеры этих веб-страниц в системах управления контентом, таких как [конфлуенце](https://www.atlassian.com/software/confluence) и [унили](https://www.unily.com/) , или базы данных, в которых хранится контент веб-сайта.</span><span class="sxs-lookup"><span data-stu-id="a439e-186">Examples of those webpages live in content management systems like [Confluence](https://www.atlassian.com/software/confluence) and [Unily](https://www.unily.com/) or databases that store website content.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a439e-187">Дальнейшие действия</span><span class="sxs-lookup"><span data-stu-id="a439e-187">Next steps</span></span>

<span data-ttu-id="a439e-188">После публикации подключения необходимо настроить страницу результатов поиска.</span><span class="sxs-lookup"><span data-stu-id="a439e-188">After publishing the connection, you need to customize the search results page.</span></span> <span data-ttu-id="a439e-189">Чтобы узнать больше о настройке результатов поиска, ознакомьтесь [со статьей Настройка страницы результатов поиска](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span><span class="sxs-lookup"><span data-stu-id="a439e-189">To learn about customizing search results, see [Customize the search results page](https://docs.microsoft.com/microsoftsearch/configure-connector#next-steps-customize-the-search-results-page).</span></span>
