---
title: Настройка соединителя, созданного корпорацией Майкрософт для поиска Microsoft Search
ms.author: monaray
author: monaray97
manager: jameslau
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Настройка соединителя, созданного корпорацией Майкрософт для поиска Microsoft Search
ms.openlocfilehash: 86ddf0387e3d00a005f25207a322c8470799b76b
ms.sourcegitcommit: 59cdd3f0f82b7918399bf44d27d9891076090f4f
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/20/2020
ms.locfileid: "49367611"
---
<!-- markdownlint-disable no-trailing-punctuation -->

# <a name="setup-overview-for-graph-connectors-by-microsoft"></a>Обзор программы установки для соединителей Graph корпорации Майкрософт 

В этой статье описывается базовый процесс, необходимый для настройки любых соединителей Graph корпорацией Майкрософт с помощью [центра администрирования microsoft 365](https://admin.microsoft.com) . Основной процесс состоит из следующих этапов:  
<!---Add links to each section in the doc--->

1. Добавьте графический соединитель в центр администрирования Microsoft 365.
2. Назовите подключение.
3. Настройка параметров подключения.
4. Управление разрешениями поиска.
5. Назначение меток свойств.
6. Управление схемой.
7. Нажмите кнопку обновить параметры.
8. Проверьте подключение.

Важно отметить, что процесс установки очень похож на все соединители Graph корпорации Майкрософт, но не в точности. **Кроме прочтения этой статьи, обязательно ознакомьтесь с конкретным соединителем для источника данных.**  

## <a name="step-1-add-a-graph-connector-in-the-microsoft-365-admin-center"></a>Шаг 1: Добавление графического соединителя в центре администрирования Microsoft 365

Выполните указанные ниже действия, чтобы настроить все соединители, созданные корпорацией Майкрософт.

1. Вход в учетную запись администратора в [центре администрирования Microsoft 365](https://admin.microsoft.com)
2. В области навигации выберите **Параметры**, а затем выберите **Поиск & аналитика**. Перейдите на [вкладку Соединители](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/Connectors).
3.  Нажмите кнопку **+ Добавить**, а затем выберите нужный источник данных в меню доступных параметров.

![Доступны следующие источники данных: АДЛС Gen2, корпоративные веб-сайты, Microsoft SQL Server, Azure SQL, база данных SQL Oracle, ServiceNow, файловый ресурс, Azure DevOps и Медиавики.](media/add-connector.png)

>[! Note:] вы можете добавить не более десяти подключений Graph к каждому клиенту.

## <a name="step-2-name-the-connection"></a>Шаг 2: имя подключения
Необходимо указать следующие атрибуты: 

* Имя  
* Идентификатор подключения 
* Описание (необязательно) 

Идентификатор подключения создает неявные свойства для соединителя. Он должен содержать только буквенно-цифровые символы и содержать не более 32 символов. 

## <a name="step-3-configure-the-connection-settings"></a>Шаг 3: Настройка параметров подключения

Процесс настройки параметров подключения зависит от типа источника данных. Сведения о типе источника данных, который требуется добавить в клиент для выполнения этого действия в процессе установки, можно узнать в сведениях о соединителе.  

Чтобы узнать больше о подключении к локальному источнику данных, ознакомьтесь со статьей [Установка локального шлюза данных](https://aka.ms/configuregateway).

## <a name="step-4-manage-search-permissions"></a>Шаг 4: Управление разрешениями поиска

Списки управления доступом (ACL) определяют, какие пользователи в организации могут получать доступ к каждому элементу данных.  

Некоторые соединители, такие как [Microsoft SQL](MSSQL-connector.md) и [Azure Data Lake Storage Gen2](azure-data-lake-connector.md) , изначально поддерживают списки управления доступом [Azure Active Directory (Azure AD)](https://docs.microsoft.com/azure/active-directory/) .

Другие соединители, такие как [ServiceNow](servicenow-connector.md), [Azure DevOps](azure-devops-connector.md)и [Salesforce](salesforce-connector.md) , поддерживают синхронизацию пользователей и групп, отличных от Azure AD.  

## <a name="step-5-assign-property-labels"></a>Шаг 5: Назначение меток свойств
Семантические метки можно присвоить исходным свойствам на странице "Назначение меток свойств". Метки — это хорошо известные теги, предоставляемые корпорацией Майкрософт, которые предоставляют семантическое значение. Они позволяют корпорации Майкрософт интегрировать данные соединителей в Microsoft 365, такие как расширенный поиск, карточки для людей, интеллектуальное обнаружение и многое другое.  

В приведенной ниже таблице перечислены текущие поддерживаемые метки и их описания.  

Метка | Описание
--- | ---  
**заголовок** | Заголовок элемента, который должен отображаться в поиске и других интерфейсах 
**url** | Целевой URL-адрес элемента в исходной системе. 
**createdBy** | Имя пользователя, создавшего элемент 
**lastModifiedBy**; | Имя пользователя, который последним редактировал элемент 
**authors** | Имя пользователей, которые участвовали в работе с элементом 
**createdDateTime** | Когда был создан элемент 
**lastModifiedDateTime** | Когда был изменен элемент, который был изменен последним 
**fileName** | Имя элемента файла 
**fileExtension** | Тип элемента файла, например. PDF или. Word 

Свойства на этой странице предварительно выбраны в зависимости от источника данных, но вы можете изменить этот параметр, если существует другое свойство, которое лучше подходит для определенной метки.  

**Заголовок** метки является наиболее важной меткой. **Настоятельно рекомендуется** присвоить этой метке свойство, чтобы ваше подключение было задействовано в [кластере результатов](result-cluster.md).

Неправильное сопоставление меток приведет к снижению качества поиска. Некоторые метки могут не иметь присвоенного им свойства.  

## <a name="step-6-manage-schema"></a>Шаг 6: управление схемой

### <a name="content-property"></a>Свойство Content

Настоятельно рекомендуется выбрать свойство контента * * в раскрывающемся меню Параметры или оставить значение по умолчанию, если оно присутствует. Это свойство используется для полнотекстового индексирования контента, создания фрагмента страницы результатов поиска, участия в [кластере результатов](result-cluster.md) , обнаружения языков, поддержки HTML/текста, ранжирования и релевантности и запросов описание.

Если выбрано свойство содержимого, при [создании типа результата](customize-results-layout.md)вы сможете использовать созданное системой свойство **ресултсниппет** . Это свойство служит заполнителем для динамических фрагментов, создаваемых из свойства Content во время запроса. Если вы используете это свойство в вашем типе результатов, в результатах поиска будут созданы фрагменты.

### <a name="creating-aliases-for-source-properties"></a>Создание псевдонимов для свойств источника

Вы можете добавить псевдонимы к свойствам в столбце "псевдоним" на странице "Управление схемой". Псевдонимы являются понятными именами для свойств. Они используются в запросах и при создании фильтров. Кроме того, они используются для нормализации свойств источника из нескольких подключений, у которых есть одно и то же имя. Таким образом вы можете создать один фильтр для вертикальной связи с несколькими подключениями. Для получения дополнительных сведений ознакомьтесь [со статьей Настройка страницы результатов поиска](customize-search-page.md) .  

### <a name="search-schema-attributes"></a>Атрибуты схемы поиска

Вы можете задать атрибуты схемы поиска для управления функциями поиска каждого исходного свойства. Схема поиска помогает определить, какие результаты отображаются на странице результатов поиска и какие данные пользователи могут просматривать и получать.

Атрибуты схемы поиска включают в себя возможность **поиска**, **запросы**, **Извлечение** и **уточнение**. В следующей таблице перечислены все атрибуты, поддерживаемые соединителями Microsoft Graph, и объясняются их функции.

Атрибут схемы поиска | Функция | Пример
--- | --- | ---
ВОЗМОЖНОСТЬЮ поиска | Делает текстовое содержимое свойства искомым. Содержимое свойства включается в полнотекстовый индекс. | Если свойство имеет **название**, запрос **Enterprise** возвращает ответы, содержащие слово **Корпоративный** в любом тексте или заголовке.
ВОЗМОЖНОСТЬ запроса | Поиск по запросу для определенного свойства. Затем имя свойства можно указать в запросе программно или буквально. |  Если свойство **Title** является запросом, то **заголовок запроса: Enterprise** поддерживается. 
ВОЗМОЖНОСТЬ извлечения | Только извлекаемые свойства можно использовать в результатах поиска и отображать в результатах поиска. |
УТОЧНЯЕМЫМ | Свойства, доступные для уточнения, можно использовать как на странице результатов поиска Microsoft. | Пользователи в вашей организации могут [Фильтровать](custom-filters.md) по **lastModifiedDateTime** на странице результатов поиска, если свойство помечено как уточненное во время установки подключения

Для всех соединителей, кроме соединителя файлового ресурса, пользовательские типы необходимо задать вручную. Чтобы активировать возможности поиска для каждого поля, необходима схема поиска, сопоставленная со списком свойств. Мастер подключения автоматически выбирает схему поиска в соответствии с выбранным набором свойств источника. Вы можете изменить эту схему, установив флажки для каждого свойства и атрибута на странице схема поиска.

![Схему для соединителя можно изменить, добавив или удалив функции "запрос", "Поиск" и "получить".](media/manageschema.png)
 
### <a name="restrictions-and-recommendations-for-search-schema-settings"></a>Ограничения и рекомендации по параметрам схемы поиска

* Свойство **Content** доступно только для поиска. После выбора в раскрывающемся меню это свойство не может быть помечено как возможность **получения или получения** **запросов**.

* При отображении результатов поиска с помощью свойства **Content** возникают значительные проблемы с производительностью. Например, это поле **текстового** содержимого для статьи базы знаний [ServiceNow](https://www.servicenow.com) .

* Только свойства, помеченные как доступные для получения в результатах поиска, и могут использоваться для создания современных типов результатов (МРТС).

* Только строковые свойства можно пометить как доступные для поиска.

> [!NOTE]
> После создания подключения изменить схему **невозможно** . Для этого необходимо удалить подключение и создать новое.

## <a name="step-7-refresh-settings"></a>Шаг 7: Обновление параметров

Интервал обновления определяет частоту синхронизации данных между источником данных и поиском Майкрософт. Каждый тип источника данных имеет разный набор оптимальных расписаний обновления в зависимости от частоты изменения данных и типа изменений.

Существует два типа интервалов обновления: **полное обновление** и **Добавочное обновление**, но добавочное обновление недоступно для некоторых источников данных.

При полном обновлении поисковый механизм обрабатывает и индексирует все элементы в источнике контента независимо от предыдущих обходов. Полное обновление лучше всего подходит для следующих случаев:

* Обнаружение удалений данных.
* При добавочном обновлении не удалось обновить контент из-за ошибок.
* Изменены списки управления доступом (ACL).
* Изменены правила обхода.
* При обновлении схемы для подключения (обновления схемы пока не поддерживаются)

При **добавочном обновлении** поисковая система может обрабатывать и индексировать только те элементы, которые были созданы или изменены с момента последнего успешного обхода. Таким образом, не все данные в источнике контента переиндексируются повторно. Добавочное обновление лучше всего подходит для обнаружения контента, метаданных, разрешений и других обновлений.

Добавочное обновление выполняется гораздо быстрее, чем полное обновление, так как неизмененные элементы не обрабатываются. Тем не менее, если вы решили выполнить добавочное обновление, вам все равно потребуется периодически выполнять обновление, чтобы обеспечить точную синхронизацию данных между источником контента и индексом поиска.

![Параметры интервалов добавочного обхода и полного обхода контента, отображающие приращение через 15 минут и полный обход на 1 неделю.](media/refreshschedule.png)

<!---Change screenshot for one that shows both options in new UI (try ServiceNow)--->

## <a name="step-8-review-connection"></a>Шаг 8: Проверка подключения

Перед завершением подключения вы можете просмотреть всю конфигурацию и изменить параметры по мере необходимости. **Обязательно прочтите сведения, относящиеся к соединителю, для источника данных, если это еще не сделано.** Нажмите кнопку **завершить обновление** , когда будете готовы к завершению подключения.

## <a name="how-do-i-know-the-connection-setup-worked"></a>Как убедиться, что настройка подключения работала?

Перейдите к списку опубликованных подключений на вкладке **соединители** в [центре администрирования](https://admin.microsoft.com). Чтобы узнать, как выполнить обновление и удаление, ознакомьтесь со статьей [Управление соединителем](manage-connector.md).
