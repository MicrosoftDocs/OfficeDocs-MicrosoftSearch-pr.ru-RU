---
title: Настройка соединителя, созданного корпорацией Майкрософт для поиска Microsoft Search
ms.author: monaray
author: monaray97
manager: jameslau
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Настройка соединителя, созданного корпорацией Майкрософт для поиска Microsoft Search
ms.openlocfilehash: ce2515b3eaa859a8fbb00d83c4727865ab55e174
ms.sourcegitcommit: 6aea7102c94855e9f80711c0f3d7bf5833ce8fb5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/14/2020
ms.locfileid: "48464479"
---
<!-- markdownlint-disable no-trailing-punctuation -->

# <a name="set-up-your-microsoft-built-connector-for-microsoft-search"></a>Настройка соединителя, созданного корпорацией Майкрософт для поиска Microsoft Search

В этой статье описывается настройка соединителя, созданного корпорацией Майкрософт. Он обработает процесс настройки подключения в [центре администрирования](https://admin.microsoft.com)Microsoft 365. Дополнительные сведения о настройке конкретных соединителей, созданных корпорацией Майкрософт, можно найти в следующих статьях:

* [Azure Data Lake Storage 2-го поколения](azure-data-lake-connector.md)
* [Azure DevOps](azure-devops-connector.md)
* [Azure SQL](MSSQL-connector.md)
* [Корпоративные веб-сайты](enterprise-web-connector.md)
* [MediaWiki](mediawiki-connector.md)
* [Microsoft SQL Server](MSSQL-connector.md)
* [ServiceNow](servicenow-connector.md)

## <a name="set-up"></a>Настройка

Выполните указанные ниже действия, чтобы настроить все соединители, созданные корпорацией Майкрософт.

1. Перейдите на [вкладку Соединители](https://admin.microsoft.com/Adminportal/Home#/MicrosoftSearch/Connectors) в [центре администрирования Microsoft 365](https://admin.microsoft.com).
2. Войдите в свою учетную запись, используя учетные данные для клиента [Microsoft 365](https://www.microsoft.com/microsoft-365) .
3. Выберите **Добавить соединитель**.
4. В списке доступных соединителей выберите нужный соединитель.

![Доступны следующие источники данных: Azure DevOps Connector, ServiceNow, АДЛС Gen2, корпоративные веб-сайты, Медиавики, Microsoft SQL Server и Azure SQL.](media/add_connector.png)

### <a name="name-the-connector"></a>Имя соединителя

Чтобы создать подключение, сначала укажите следующие атрибуты:

1. Имя подключения
2. Идентификатор подключения
3. Описание (необязательно)

Идентификатор подключения создает неявные свойства для соединителя. Он должен содержать только буквенно-цифровые символы и содержать не более 32 символов.

### <a name="connect-to-a-data-source"></a>Подключение к источнику данных

Процесс подключения к данным зависит от типа соединителя. Чтобы узнать больше о подключении к локальному источнику данных, ознакомьтесь со статьей [Установка локального шлюза данных](https://aka.ms/configuregateway).

### <a name="select-source-properties"></a>Выбор свойств источника

Поля данных, заданные сторонним источником данных как свойства источника, индексируются в Microsoft Search. Чтобы изменить эти свойства, выберите **изменить свойства** в боковой панели справа от страницы **соединителей** . Можно выбрать **до 64 свойств источника**.

### <a name="manage-the-search-schema"></a>Управление схемой поиска

#### <a name="content-property"></a>Свойство Content

Вы можете выбрать, какое свойство Source является свойством **Content** (полнотекстовый индекс элемента), выбрав любое строковое свойство из раскрывающегося списка свойств **контента** . Кроме того, вы можете оставить выбранное по умолчанию свойство по умолчанию, если оно присутствует.

Особенно важно, чтобы было выбрано правильное свойство, так как это свойство используется для полнотекстового индексирования контента, создания фрагмента страницы результатов поиска, определения языка, поддержки HTML/текста, ранжирования и релевантности, а также запросов описание.

Если вы выбираете свойство для **контента**, вы можете использовать свойство **ресултсниппет** , созданное системой, при [создании типа результата](customize-results-layout.md). Это свойство служит заполнителем для динамических фрагментов, создаваемых из свойства **Content** во время запроса. Если вы используете это свойство в вашем типе результатов, в результатах поиска будут созданы фрагменты.

#### <a name="search-schema-attributes"></a>Атрибуты схемы поиска

Вы можете задать атрибуты схемы поиска для управления функциями поиска каждого исходного свойства. Схема поиска помогает определить, какие результаты отображаются на странице результатов поиска и какие данные пользователи могут просматривать и получать.

Атрибуты схемы поиска включают в себя возможность **поиска**, возможность **запроса**и возможность **извлечения**. В следующей таблице перечислены все атрибуты, поддерживаемые соединителями Microsoft Graph, и объясняются их функции.

Атрибут схемы поиска | Функция | Пример
--- | --- | ---
ВОЗМОЖНОСТЬЮ поиска | Делает текстовое содержимое свойства искомым. Содержимое свойства включается в полнотекстовый индекс. | Если свойство имеет **название**, запрос **Enterprise** возвращает ответы, содержащие слово **Корпоративный** в любом тексте или заголовке.
ВОЗМОЖНОСТЬ запроса | Поиск по запросу для определенного свойства. Затем имя свойства можно указать в запросе программно или буквально. |  Если свойство **Title** является запросом, то **заголовок запроса: Enterprise** поддерживается.
ВОЗМОЖНОСТЬ извлечения | Только извлекаемые свойства можно использовать в результатах поиска и отображать в результатах поиска. |

Для всех соединителей настраиваемые типы необходимо задать вручную. Чтобы активировать возможности поиска для каждого поля, необходима схема поиска, сопоставленная со списком свойств. Мастер подключения автоматически выбирает схему поиска в соответствии с выбранным набором свойств источника. Вы можете изменить эту схему, установив флажки для каждого свойства и атрибута на странице схема поиска.

![Схему для соединителя можно изменить, добавив или удалив функции "запрос", "Поиск" и "получить".](media/manageschema.png)

#### <a name="restrictions-and-recommendations-for-search-schema-settings"></a>Ограничения и рекомендации по параметрам схемы поиска

* Свойство **Content** доступно только для поиска. После выбора в раскрывающемся меню это свойство не может быть помечено как возможность **получения или получения** **запросов**. При отображении результатов поиска с помощью свойства **Content** возникают значительные проблемы с производительностью. Например, это поле **текстового** содержимого для статьи базы знаний [ServiceNow](https://www.servicenow.com) .

* Только свойства, помеченные как доступные для получения в результатах поиска, и могут использоваться для создания современных типов результатов (МРТС).

* Только строковые свойства можно пометить как доступные для поиска.


> [!Note]
> После создания подключения изменить схему **невозможно** . Для этого необходимо удалить подключение и создать новое.

### <a name="manage-search-permissions"></a>Управление разрешениями поиска

Списки управления доступом (ACL) определяют, какие пользователи в организации могут получать доступ к каждому элементу данных. Все соединители поддерживают разрешения поиска, которые видимы всем пользователям.

### <a name="set-the-refresh-schedule"></a>Настройка расписания обновления

Расписание обновления определяет частоту синхронизации данных с индексом в Microsoft Graph и Microsoft Search. Вы можете запланировать обновление двумя способами: полный обход контента или добавочный обход контента.

При **полном обходе**поисковая система обрабатывает и индексирует каждый элемент в источнике контента независимо от предыдущих обходов. Полный обход контента лучше всего подходит в следующих случаях:

* Обнаружение удалений данных.
* Добавочный обход контента не смог выполнить обход контента для ошибок.
* Изменены списки управления доступом (ACL).
* Изменены правила обхода.
* Необходимо обновление программного обеспечения для поиска Майкрософт. Обновления изменяют схему поиска.

При **добавочном обходе**поисковая система может обрабатывать и индексировать только те элементы, которые были созданы или изменены с момента последнего успешного обхода. Таким образом, не все данные в источнике контента переиндексируются повторно. Добавочные обходы контента лучше всего подходят для обнаружения контента, метаданных, разрешений и других обновлений.

Добавочные обходы работают гораздо быстрее, чем полные обходы контента, так как неизмененные элементы не обрабатываются. Чтобы обеспечить точную синхронизацию данных между источником контента и индексом поиска, необходимо периодически выполнять оба обхода контента.

Каждый соединитель будет иметь другой оптимальный набор расписаний обновления на основе частоты изменения данных и типа изменений.

![Параметры интервалов добавочного обхода и полного обхода контента, отображающие приращение через 15 минут и полный обход на 1 неделю.](media/refreshschedule.png)

### <a name="review-connector-settings"></a>Обзор параметров соединителя

После настройки соединителя [центр администрирования](https://admin.microsoft.com) переходит на страницу, на которой можно просмотреть параметры. Чтобы изменить параметр перед подтверждением подключения, можно вернуться в процесс настройки. Чтобы узнать больше, ознакомьтесь со статьей [Управление соединителем](manage-connector.md).

## <a name="next-steps-customize-the-search-results-page"></a>Дальнейшие действия: Настройка страницы результатов поиска

С помощью пользовательского интерфейса Microsoft Search пользователи могут выполнять поиск в содержимом приложений [microsoft 365](https://www.microsoft.com/microsoft-365) для продуктивной работы и широкой Microsoft экосистеме. Вертикаль поиска указывает вкладки, которые отображаются, когда пользователь просматривает результаты поиска в [SharePoint](https://sharepoint.com/), [Microsoft Office](https://Office.com)и Microsoft Search в [Bing](https://Bing.com). Для сужения результатов поиска можно настроить вертикальные результаты поиска, чтобы отображался только определенный тип результатов поиска. Эти вертикальные вертикальные черты отображаются в виде вкладки в верхней части страницы результатов поиска. Современный тип результатов (MRT) — это пользовательский интерфейс, который определяет способ представления результатов.

Создайте собственные вертикальные типы и типы результатов, чтобы пользователи могли просматривать результаты поиска из новых подключений. Без этого действия данные из вашего подключения не будут отображаться на странице результатов поиска.

Чтобы узнать больше о создании вертикальных и МРТС, обратитесь к разделу [Настройка страницы результатов поиска](customize-search-page.md).

## <a name="how-do-i-know-the-connection-setup-worked"></a>Как убедиться, что настройка подключения работала?

Перейдите к списку опубликованных подключений на вкладке **соединители** в [центре администрирования](https://admin.microsoft.com). Чтобы узнать, как выполнить обновление и удаление, ознакомьтесь со статьей [Управление соединителем](manage-connector.md).
