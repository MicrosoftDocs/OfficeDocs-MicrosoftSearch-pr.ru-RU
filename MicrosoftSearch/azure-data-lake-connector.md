---
title: Azure Data Lake Connector для поиска Майкрософт
ms.author: monaray
author: monaray97
manager: jameslau
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Настройка соединителя Gen2 для Azure Data Lake Storage для поиска Майкрософт
ms.openlocfilehash: 788b7106c15cd9773c86f46f91ba0e91e38028f3
ms.sourcegitcommit: 988c37610e71f9784b486660400aecaa7bed40b0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/09/2020
ms.locfileid: "47422931"
---
# <a name="azure-data-lake-storage-gen2-connector"></a>Соединитель Gen2 для Azure Data Lake Storage

С помощью соединителя Azure Data Lake Storage Gen2 пользователи в вашей организации могут выполнять поиск файлов, хранящихся в [хранилищах больших двоичных объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) и учетных записях [хранения Azure Data Lake поколения 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .

Эта статья предназначена для администраторов [Microsoft 365](https://www.microsoft.com/microsoft-365) или пользователей, которые настраивают, запускают и отслеживают соединитель Gen2 для Azure Data Lake Storage. Он предоставляет обзор конфигурации соединителя, возможностей, ограничений и способов устранения неполадок. В этой статье мы используем *хранилище Azure* в качестве универсального термина для хранилища [больших двоичных объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction) и [хранилища Azure Data Lake поколения 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction).

## <a name="connect-to-a-data-source"></a>Подключение к источнику данных
### <a name="primary-storage-connection-string"></a>Строка подключения к основному хранилищу 
На экране **Проверка подлинности и настройка** введите строку подключения к основному хранилищу. Эта строка необходима для предоставления доступа к учетной записи хранения. Чтобы найти строку подключения, перейдите на [портал Azure](https://ms.portal.azure.com/#home) и перейдите к разделу " **ключи** " соответствующей учетной записи хранилища Azure. Скопируйте и вставьте строку подключения в соответствующее поле на экране.

Если вы не хотите предоставлять **AccountKey** (параметр в основной строке подключения хранилища), вам потребуется предоставить доступ на чтение к службе соединителей Graph. Перейдите на вкладку **Управление доступом** своей учетной записи хранения Azure и следуйте инструкциям, чтобы предоставить доступ к следующему приложению:
* **Идентификатор приложения первой стороны:** 56c1da01-2129-48f7-9355-af6d59d42766
* **Имя приложения первой стороны:** Служба соединителя Graph

### <a name="storage-account-and-queue-notifications-optional"></a>Учетная запись хранения и уведомления об очередях (необязательно)
Поддержка обработки изменений в режиме реального времени в службе соединителей Graph может быть добавлена в будущем. В этом случае мы отслеживаем уведомления об изменениях в хранилище Azure, хранящиеся в очереди. Вам потребуется создать очередь в той же учетной записи, что и ваша учетная запись хранилища Azure.

После создания очереди перейдите на вкладку **события** на странице очередь, чтобы настроить **подписку на события**. Выберите все события больших двоичных объектов, которые будут получены в очереди, и подключите ее к учетной записи хранения Azure.

## <a name="manage-the-search-schema"></a>Управление схемой поиска
На экране **Управление схемой** можно изменить атрибуты схемы (возможность**запроса**, **Поиск**и возможность **извлечения**), связанные с управляемыми свойствами. Эти атрибуты управляемых свойств индексируются из учетной записи хранения данных Azure.

## <a name="manage-search-permissions"></a>Управление разрешениями поиска
### <a name="azure-data-lake-gen-2"></a>Azure Data Lake Gen 2
На экране " **Управление разрешениями поиска** " можно выбрать прием списков управления доступом (ACL) из учетной записи [хранилища Azure Data Lake поколения 2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) . При задании этих разрешений поиска усечение контента выполняется в соответствии с разрешениями, назначенными вошедшего пользователя [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) , в котором выполняется поиск контента. Кроме того, вы можете сделать так, чтобы весь контент, индексируемый из учетной записи хранения, был виден всем пользователям в вашей организации. В этом случае всем пользователям в Организации будет доступен доступ ко всем данным в учетной записи хранения.

### <a name="azure-blob-storage"></a>Хранилище BLOB-объектов Azure
Для подключения к [хранилищу больших двоичных объектов Azure](https://docs.microsoft.com/azure/storage/blobs/storage-blobs-introduction)весь контент, индексируемый из настроенного источника, отображается для всех пользователей в Организации. Списки управления доступом не поддерживаются на уровне больших двоичных объектов в хранилище больших двоичных объектов Azure.

## <a name="set-the-refresh-schedule"></a>Настройка расписания обновления
На экране **Параметры обновления** можно задать интервал добавочного обхода контента и интервал полного обхода контента. Интервалы по умолчанию для соединителя Gen2 Azure Data Lake Storage задаются 15 минут для добавочного обхода и на одну неделю для полного обхода.

## <a name="limitations"></a>Ограничения
Опубликованное подключение к хранилищу больших двоичных объектов Azure невозможно изменить для источника Gen2 Azure Data Lake Storage и наоборот. В таких случаях рекомендуется настроить новое подключение.