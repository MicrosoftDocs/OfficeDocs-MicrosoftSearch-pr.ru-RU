---
title: Azure Data Lake Connector для поиска Майкрософт
ms.author: mounika.narayanan
author: monaray
manager: shohara
ms.audience: Admin
ms.topic: article
ms.service: mssearch
localization_priority: Normal
search.appverid:
- BFB160
- MET150
- MOE150
description: Настройка соединителя Gen2 для Azure Data Lake Storage для поиска Майкрософт
ms.openlocfilehash: 392960a5f7e6c93442ac7e1f60245217e194b42b
ms.sourcegitcommit: 21361af7c244ffd6ff8689fd0ff0daa359bf4129
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/14/2019
ms.locfileid: "38626474"
---
# <a name="azure-data-lake-storage-gen2-connector-for-microsoft-search"></a>Соединитель Gen2 для Azure Data Lake Storage для поиска Майкрософт

С помощью соединителя [Gen2 Azure Data Lake Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) пользователи в вашей организации могут искать файлы и их содержимое. Этот соединитель получает доступ к данным, хранящимся в контейнерах больших двоичных объектов Azure и папках с включенной поддержкой иерархии, в учетной записи Azure Data Lake Storage поколения 2.

Эта статья предназначена для администраторов [Microsoft 365](https://www.microsoft.com/microsoft-365) или пользователей, которые настраивают, запускают и отслеживают соединитель Gen2 для Azure Data Lake Storage. В этой статье объясняется, как настроить возможности соединителя и соединителя, ограничения и способы устранения неполадок.

## <a name="connect-to-a-data-source"></a>Подключение к источнику данных

### <a name="primary-storage-connection-string"></a>Строка подключения к основному хранилищу 
На экране **Проверка подлинности и настройка** введите строку подключения к основному хранилищу. Эта строка необходима для предоставления доступа к учетной записи хранения. Чтобы найти строку подключения, перейдите на [портал Azure](https://ms.portal.azure.com/#home) и перейдите к разделу " **ключи** " учетной записи [Gen2 Azure Data Lake Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) . Скопируйте и вставьте строку подключения в соответствующее поле на экране.

Если вы не хотите предоставлять **AccountKey** (параметр в основной строке подключения хранилища), необходимо предоставить доступ на чтение к службе соединителей Graph. На вкладке **Управление доступом** в учетной записи Gen2 Azure Data Lake Storage следуйте инструкциям на этой странице, чтобы предоставить доступ к следующему приложению:
* **Идентификатор приложения первой стороны:** 56c1da01-2129-48f7-9355-af6d59d42766
* **Имя приложения первой стороны:** Служба соединителя Graph

### <a name="storage-account-and-queue-notifications-optional"></a>Учетная запись хранения и уведомления об очередях (необязательно)
Поддержка обработки изменений в режиме реального времени в службе соединителей Graph может быть добавлена в будущем. В этом случае мы отслеживаем уведомления об изменениях [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) , хранящиеся в очереди. Вам потребуется создать очередь в той же учетной записи, в которой находится Azure Data Lake Storage Gen2 или в другой учетной записи хранения.

После создания очереди перейдите на вкладку **события** на странице очередь, чтобы настроить **подписку на события**. Выберите все события больших двоичных объектов, которые будут получены в очереди, и подключите ее к учетной записи Gen2 Azure Data Lake Storage.

## <a name="manage-the-search-schema"></a>Управление схемой поиска
На экране **Управление схемой** можно изменить атрибуты схемы (возможность**запроса**, **Поиск**и возможность **извлечения**), связанные с управляемыми свойствами. Эти атрибуты управляемых свойств — это данные, индексируемые из учетной записи [Gen2 Azure Data Lake Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) .

## <a name="manage-search-permissions"></a>Управление разрешениями поиска
На экране " **Управление разрешениями поиска** " можно выбрать, следует использовать для учетной записи хранения списки управления доступом (ACL). При задании этих разрешений поиска усечение контента выполняется в соответствии с разрешениями, назначенными вошедшего пользователя [Azure Active Directory](https://docs.microsoft.com/azure/active-directory/) , в котором выполняется поиск контента. Кроме того, вы можете сделать так, чтобы весь контент, индексируемый из учетной записи хранения, был виден всем пользователям в вашей организации. В этом случае всем пользователям в Организации будет доступен доступ ко всем данным в учетной записи хранения.
 
## <a name="set-the-refresh-schedule"></a>Настройка расписания обновления
На экране **Параметры обновления** можно задать интервал добавочного обхода контента и интервал полного обхода контента. Интервалы по умолчанию для соединителя [Gen2 Azure Data Lake Storage](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) задаются 15 минут для добавочного обхода и на одну неделю для полного обхода.
 
## <a name="limitations"></a>Ограничения
В настоящее время доступ к [Azure Data Lake Storage Gen2](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-introduction) предоставляется только в Центральной территории США, Западная Центральная часть США, для Канады, Восточной США, Восточной Азии, Северной Европы, восток США, Юго-Восточной Азии, Западная Европа, Запад США, Восток, Япония, Западная US2 и Южная Бразилия.

За обновлениями и дополнительными сведениями можно ознакомиться [в статье поддержка нескольких протоколов в Azure Data Lake Storage (Предварительная версия)](https://docs.microsoft.com/azure/storage/blobs/data-lake-storage-multi-protocol-access).


